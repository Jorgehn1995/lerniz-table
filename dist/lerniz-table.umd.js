(function(t,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.LernizTable={},t.Vue))})(this,function(t,e){"use strict";const B={key:0,class:"loading"},S=["id"],z={class:"fixed-column"},T={key:1,class:"blank"},f=e.defineComponent({__name:"lerniz-table",props:{isLoadingTable:Boolean,tableID:{type:String,default:"table"},zoom:{type:[Number,String],default:100},height:{type:Number,default:0},showTable:{type:Boolean,default:!0}},setup(r){const n=r,d=e.ref(null),h=e.ref(null),m=e.ref(null),a=e.ref(null),b=e.ref(0),p=e.ref(0),u=e.ref(0),w=e.ref(0),g=e.ref(!1),k=e.ref(!1),s=e.ref(!1),i=e.ref(!1),R=e.computed(()=>{const o=Number(n.zoom);return o<25?25:o>200?200:o}),_=e.computed(()=>R.value*.9/100),L=e.computed(()=>n.height==0?b.value-p.value-u.value-w.value:n.height),c=()=>{var o,l;if(b.value=window.innerHeight,d.value){const N=d.value.getBoundingClientRect();p.value=N.top}u.value=((o=h.value)==null?void 0:o.offsetHeight)||0,w.value=((l=m.value)==null?void 0:l.offsetHeight)||0},y=()=>{if(!a.value)return;const{scrollTop:o,scrollLeft:l}=a.value;g.value=o>0,k.value=l>0,s.value=l>0,i.value=o>0};return e.onMounted(()=>{var o;c(),window.addEventListener("resize",c),(o=a.value)==null||o.addEventListener("scroll",y)}),e.onBeforeUnmount(()=>{var o;window.removeEventListener("resize",c),(o=a.value)==null||o.removeEventListener("scroll",y)}),(o,l)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"boxRef",ref:d,class:"container"},[e.createElementVNode("div",{ref_key:"toolbarTopRef",ref:h,class:"toolbar"},[e.renderSlot(o.$slots,"toolbar-top")],512),e.createElementVNode("div",{ref_key:"tableWrapperRef",ref:a,class:"table-wrapper",style:e.normalizeStyle({height:L.value+"px"})},[n.isLoadingTable?(e.openBlock(),e.createElementBlock("div",B," Cargando... ")):(e.openBlock(),e.createElementBlock("div",{key:1,id:n.tableID},[r.showTable?(e.openBlock(),e.createElementBlock("table",{key:0,class:e.normalizeClass(["fixed-table",{"shadow-right-col":k.value}]),style:e.normalizeStyle({"font-size":_.value+"rem"})},[e.createElementVNode("thead",{class:e.normalizeClass(["fixed-thead",{"shadow-under":g.value}])},[e.createElementVNode("tr",null,[e.createElementVNode("th",{class:e.normalizeClass({"shadow-first-cell-right":s.value&&!i.value,"shadow-first-cell-bottom":i.value&&!s.value,"shadow-first-cell-all":i.value&&s.value})},[e.renderSlot(o.$slots,"first-cell")],2),e.renderSlot(o.$slots,"columns")])],2),e.createElementVNode("tbody",z,[e.renderSlot(o.$slots,"rows")])],6)):(e.openBlock(),e.createElementBlock("div",T,[e.renderSlot(o.$slots,"blank")]))],8,S))],4),e.createElementVNode("div",{ref_key:"toolbarBottomRef",ref:m,class:"toolbar"},[e.renderSlot(o.$slots,"toolbar-bottom")],512)],512))}}),E={install:r=>{r.component("LernizTable",f)}};t.LernizTable=f,t.default=E,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
